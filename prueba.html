<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â¡EstÃ¡s invitado!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8edf3 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 20px;
            font-style: italic;
        }

        .message {
            color: #666;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .time-unit {
            background: linear-gradient(135deg, #d4af37 0%, #c9a832 100%);
            color: white;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        .time-value {
            font-size: 2em;
            font-weight: bold;
            line-height: 1;
        }

        .time-label {
            font-size: 0.75em;
            margin-top: 5px;
            opacity: 0.9;
        }

        .calendar-button {
            background: white;
            color: #333;
            border: 2px solid #e0e0e0;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1em;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-decoration: none;
        }

        .calendar-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            border-color: #d4af37;
        }

        .calendar-button:active {
            transform: translateY(0);
        }

        .calendar-icon {
            width: 20px;
            height: 20px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }

            h1 {
                font-size: 2em;
            }

            .time-unit {
                width: 70px;
                height: 70px;
            }

            .time-value {
                font-size: 1.7em;
            }
        }

        .calendar-btn {
  background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 50px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
  transition: all 0.3s ease;
  font-family: 'Georgia', serif;
}

.calendar-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
}

.calendar-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.calendar-modal-content {
  background: white;
  padding: 40px;
  border-radius: 20px;
  max-width: 500px;
  width: 90%;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
  animation: slideUp 0.3s ease;
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(50px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.calendar-modal-content h3 {
  margin: 0 0 25px 0;
  font-size: 24px;
  color: #333;
  text-align: center;
  font-family: 'Georgia', serif;
}

.calendar-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.calendar-option {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 15px 20px;
  border: 2px solid #e0e0e0;
  border-radius: 12px;
  background: white;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.calendar-option:hover {
  border-color: #d4af37;
  background: #fffbf0;
  transform: translateX(5px);
}

.calendar-option img {
  width: 30px;
  height: 30px;
}

.close-modal {
  margin-top: 20px;
  width: 100%;
  padding: 12px;
  background: #f0f0f0;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
}

.close-modal:hover {
  background: #e0e0e0;
}
    </style>
</head>
<body>
    <div class="container">
        <h1>Â¡EstÃ¡s invitado!</h1>
        
        <p class="message">
            Nos encantarÃ­a que seas parte de este momento tan especial para nosotros. Â¡Falta poco!
        </p>

        <div class="countdown">
            <div class="time-unit">
                <div class="time-value" id="days">136</div>
                <div class="time-label">DÃ­as</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="hours">07</div>
                <div class="time-label">Horas</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="minutes">39</div>
                <div class="time-label">Mins.</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="seconds">22</div>
                <div class="time-label">Seg.</div>
            </div>
        </div>

        <button class="calendar-button" onclick="addToCalendar()">
            <svg class="calendar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            Agendar Recordatorio
        </button>
    </div>

    <button id="add-to-calendar" class="calendar-btn">
  ðŸ“… Agendar en Calendario
</button>

<!-- Modal de selecciÃ³n -->
<div id="calendar-modal" class="calendar-modal" style="display: none;">
  <div class="calendar-modal-content">
    <h3>Selecciona tu calendario</h3>
    <div class="calendar-options">
      <button class="calendar-option" data-type="google">
        <img src="https://cdn-icons-png.flaticon.com/512/2991/2991148.png" alt="Google">
        Google Calendar
      </button>
      <button class="calendar-option" data-type="apple">
        <img src="https://cdn-icons-png.flaticon.com/512/731/731985.png" alt="Apple">
        Apple Calendar
      </button>
      <button class="calendar-option" data-type="outlook">
        <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="Outlook">
        Outlook
      </button>
      <button class="calendar-option" data-type="yahoo">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968842.png" alt="Yahoo">
        Yahoo Calendar
      </button>
      <button class="calendar-option" data-type="ics">
        ðŸ“¥ Descargar .ics
      </button>
    </div>
    <button class="close-modal" id="close-calendar-modal">âœ• Cerrar</button>
  </div>
</div>

    <script>
        // Configura aquÃ­ la fecha de tu evento
        // Formato: AÃ±o, Mes (0-11), DÃ­a, Hora, Minuto
        const eventDate = new Date(2026, 5, 13, 18, 0); // Ejemplo: 13 de junio de 2026 a las 6:00 PM
        
        // InformaciÃ³n del evento
        const eventInfo = {
            title: "Evento Especial",
            description: "Nos encantarÃ­a que seas parte de este momento tan especial para nosotros.",
            location: "Lugar del evento", // Cambia esto
            duration: 4 // DuraciÃ³n en horas
        };

        // Actualizar contador
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = eventDate.getTime() - now;

            if (distance < 0) {
                document.querySelector('.countdown').innerHTML = '<p style="color: #d4af37; font-size: 1.5em;">Â¡El evento ha comenzado!</p>';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
        }

        // FunciÃ³n para formatear fecha en formato iCalendar
        function formatDate(date) {
            return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
        }

        // FunciÃ³n para crear archivo .ics
        function addToCalendar() {
            const startDate = eventDate;
            const endDate = new Date(eventDate.getTime() + eventInfo.duration * 60 * 60 * 1000);

            const icsContent = [
                'BEGIN:VCALENDAR',
                'VERSION:2.0',
                'PRODID:-//InvitaciÃ³n//ES',
                'CALSCALE:GREGORIAN',
                'METHOD:PUBLISH',
                'BEGIN:VEVENT',
                'DTSTART:' + formatDate(startDate),
                'DTEND:' + formatDate(endDate),
                'SUMMARY:' + eventInfo.title,
                'DESCRIPTION:' + eventInfo.description,
                'LOCATION:' + eventInfo.location,
                'STATUS:CONFIRMED',
                'SEQUENCE:0',
                'BEGIN:VALARM',
                'TRIGGER:-PT24H',
                'ACTION:DISPLAY',
                'DESCRIPTION:Recordatorio del evento',
                'END:VALARM',
                'END:VEVENT',
                'END:VCALENDAR'
            ].join('\r\n');

            // Crear blob y descargar
            const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
            const link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.setAttribute('download', 'evento.ics');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Iniciar contador
        updateCountdown();
        setInterval(updateCountdown, 1000);
        // ============================================
// ðŸ“… SISTEMA DE CALENDARIO UNIVERSAL
// ============================================

document.addEventListener("DOMContentLoaded", () => {
  const calendarBtn = document.getElementById("add-to-calendar");
  const modal = document.getElementById("calendar-modal");
  const closeModal = document.getElementById("close-calendar-modal");
  const calendarOptions = document.querySelectorAll(".calendar-option");

  if (!calendarBtn || !modal) return;

  // ============================================
  // ðŸ“ CONFIGURACIÃ“N DEL EVENTO
  // ============================================
  
  const eventDetails = {
    title: "Boda de Vanessa & Jaime",
    description: "Ceremonia religiosa: 16:00 - CÃ³ctel de bienvenida 17:00 - Palabras de bienvenida y entrada de los novios 17:30",
    location: "Villa Las Paulitas, Quito, Pomasqui",
    // FORMATO: YYYYMMDDTHHMMSS (en hora local)
 startDate: "20260613T160000", // 13 de Junio 2026, 4:00 PM
  endDate: "20260613T230000",   // 13 de Junio 2026, 11:00 PM
  
    timezone: "America/Guayaquil" // Ajusta segÃºn tu zona horaria
  };

  // ============================================
  // ðŸŽ¯ ABRIR MODAL
  // ============================================
  
  calendarBtn.addEventListener("click", () => {
    modal.style.display = "flex";
    document.body.style.overflow = "hidden";
  });

  // ============================================
  // âŒ CERRAR MODAL
  // ============================================
  
  const closeModalFunc = () => {
    modal.style.display = "none";
    document.body.style.overflow = "auto";
  };

  closeModal.addEventListener("click", closeModalFunc);
  
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      closeModalFunc();
    }
  });

  // ============================================
  // ðŸ”§ FUNCIONES GENERADORAS DE ENLACES
  // ============================================
  
  const formatDateForGoogle = (date) => {
    // Convertir de YYYYMMDDTHHMMSS a YYYYMMDDTHHMMSSZ
    return date.replace(/[:-]/g, '');
  };

  const generateGoogleCalendar = () => {
    const baseUrl = "https://calendar.google.com/calendar/render";
    const params = new URLSearchParams({
      action: "TEMPLATE",
      text: eventDetails.title,
      details: eventDetails.description,
      location: eventDetails.location,
      dates: `${formatDateForGoogle(eventDetails.startDate)}/${formatDateForGoogle(eventDetails.endDate)}`,
      ctz: eventDetails.timezone
    });
    return `${baseUrl}?${params.toString()}`;
  };

  const generateOutlookCalendar = () => {
    const baseUrl = "https://outlook.live.com/calendar/0/deeplink/compose";
    const params = new URLSearchParams({
      path: "/calendar/action/compose",
      rru: "addevent",
      subject: eventDetails.title,
      body: eventDetails.description,
      location: eventDetails.location,
      startdt: eventDetails.startDate,
      enddt: eventDetails.endDate
    });
    return `${baseUrl}?${params.toString()}`;
  };

  const generateYahooCalendar = () => {
    const baseUrl = "https://calendar.yahoo.com/";
    const params = new URLSearchParams({
      v: "60",
      view: "d",
      type: "20",
      title: eventDetails.title,
      desc: eventDetails.description,
      in_loc: eventDetails.location,
      st: eventDetails.startDate,
      et: eventDetails.endDate
    });
    return `${baseUrl}?${params.toString()}`;
  };

  const generateICS = () => {
    const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Mi Sitio Web//ES
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
DTSTART:${eventDetails.startDate}
DTEND:${eventDetails.endDate}
DTSTAMP:${new Date().toISOString().replace(/[-:]/g, '').split('.')[0]}Z
UID:${Date.now()}@misitio.com
SUMMARY:${eventDetails.title}
DESCRIPTION:${eventDetails.description.replace(/\n/g, '\\n')}
LOCATION:${eventDetails.location}
STATUS:CONFIRMED
SEQUENCE:0
END:VEVENT
END:VCALENDAR`;

    const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'evento.ics';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    // Mostrar confirmaciÃ³n
    showNotification("âœ… Archivo descargado. Ãbrelo para agregar a tu calendario.");
  };

  // ============================================
  // ðŸŽ DETECCIÃ“N DE APPLE (iOS/macOS)
  // ============================================
  
  const isAppleDevice = () => {
    return /iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent);
  };

  const handleAppleCalendar = () => {
    if (isAppleDevice()) {
      // En dispositivos Apple, el archivo .ics se abre automÃ¡ticamente
      generateICS();
    } else {
      alert("Para dispositivos Apple, descarga el archivo .ics y Ã¡brelo en tu dispositivo.");
      generateICS();
    }
  };

  // ============================================
  // ðŸ”” NOTIFICACIÃ“N
  // ============================================
  
  const showNotification = (message) => {
    const notification = document.createElement('div');
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #2ecc71;
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
      z-index: 10001;
      animation: slideInUp 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.animation = 'slideOutDown 0.3s ease';
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  };

  // ============================================
  // ðŸŽ¯ MANEJADORES DE EVENTOS
  // ============================================
  
  calendarOptions.forEach(option => {
    option.addEventListener("click", () => {
      const type = option.getAttribute("data-type");
      let url;

      switch(type) {
        case "google":
          url = generateGoogleCalendar();
          window.open(url, '_blank');
          showNotification("âœ… Abriendo Google Calendar...");
          break;
          
        case "apple":
          handleAppleCalendar();
          break;
          
        case "outlook":
          url = generateOutlookCalendar();
          window.open(url, '_blank');
          showNotification("âœ… Abriendo Outlook...");
          break;
          
        case "yahoo":
          url = generateYahooCalendar();
          window.open(url, '_blank');
          showNotification("âœ… Abriendo Yahoo Calendar...");
          break;
          
        case "ics":
          generateICS();
          break;
      }

      closeModalFunc();
    });
  });

  // ============================================
  // ðŸ“± ESTILO DE ANIMACIONES
  // ============================================
  
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }
    
    @keyframes slideOutDown {
      from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
      to {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
      }
    }
  `;
  document.head.appendChild(style);

  console.log("ðŸ“… Sistema de calendario inicializado");
});
    </script>
</body>
</html>